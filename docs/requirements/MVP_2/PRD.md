# 简约博客项目 PRD - 第二版（MVP_2）

## 1. 项目概述
- **项目名称**：简约博客（第二版）
- **部署目标**：GitHub Pages (`k1he.github.io`)
- **核心原则**：
  - 简约轻量：无构建步骤，纯前端实现
  - 视觉优先：美观的科技/代码风格
  - 功能增强：在 MVP 基础上增加归档功能和个人面板优化
- **版本说明**：本版本（MVP_2）在 MVP 已实现功能基础上，重点增加文章归档、个人面板扩展、文章页内导航和视觉特效。

## 2. 功能需求（MVP_2）

### 2.1 归档功能
- **归档页面**：按年份/月份组织文章列表
  - 展示每年每月的文章数量统计
  - 点击月份可展开该月所有文章标题
  - 文章标题链接至对应详情页
- **归档侧边栏入口**：在左侧导航栏增加“归档”菜单项
  - 点击后主内容区切换为归档视图
  - 归档视图保持与文章列表一致的视觉风格

### 2.2 个人面板优化
- **面板尺寸调整**：左侧导航栏的个人面板区域占左侧栏总高度的 1/3
- **面板内容增强**：
  - 头像：圆形头像，尺寸适中
  - 昵称：显示用户昵称（如 "k1he"）
  - 职业：一行简短的职业描述（如 "全栈开发者"）
  - 工作经历：展示公司 logo 序列
    - 支持展示多个公司（例如：美团、百度、字节跳动、腾讯）
    - 在职公司 logo 显示彩色，离职公司 logo 显示灰色（降低饱和度）
    - logo 水平排列，适当间距
  - 坐标：显示地点信息，使用英文格式（如 "Guangdong Shenzhen"）
- **视觉层次**：信息从上到下依次排列，保持清晰的视觉流

### 2.3 文章阅读页增强
- **页内导航栏**：
  - 在文章内容右侧或左侧固定位置显示标题导航
  - 自动提取文章中的 h2、h3 标题生成导航菜单
  - 点击导航项平滑滚动到对应章节
  - 滚动时高亮当前阅读的章节
- **背景特效**：
  - 在文章内容区域背景添加 subtle 的线条灯光效果
  - 效果要求：不影响文字可读性，仅在边缘或背景点缀
  - 可考虑使用 CSS 渐变、伪元素或极简的 Canvas 动画
  - 保持科技感，避免过度花哨

### 2.4 其他优化
- **性能优化**：归档页面懒加载文章数据
- **可访问性**：导航栏添加适当的 ARIA 标签
- **移动端适配**：所有新功能在移动端有合适的展现方式

## 3. 设计需求

### 3.1 视觉风格调整
- **个人面板配色**：
  - 头像边框：使用主强调色 (`#58a6ff`)
  - 职业文字：稍浅的灰色 (`#b1bac4`)
  - 坐标文字：使用次要强调色
- **工作经历 logo**：
  - 彩色 logo：保持原色，适当降低亮度以符合深色主题
  - 灰色 logo：使用 `grayscale()` 滤镜，透明度 0.6
  - 尺寸统一，建议 24×24 或 32×32 像素
- **导航栏样式**：
  - 背景：半透明深色 (`rgba(22, 27, 34, 0.9)`)
  - 当前章节高亮：使用强调色背景或左侧边框
  - 标题缩进：h3 标题比 h2 标题多缩进一级

### 3.2 布局调整
- **左侧栏分区**：
  ```
  左侧导航栏（总高度 100%）
  ├── 个人面板（高度 33%）
  │   ├── 头像
  │   ├── 昵称
  │   ├── 职业
  │   ├── 工作经历（logo 行）
  │   └── 坐标
  └── 导航菜单（高度 67%）
      ├── 首页
      ├── 归档
      └── 关于（待实现）
  ```
- **归档页面布局**：
  - 年份标题：大号字体，年份右侧显示文章数量
  - 月份展开项：月份名称 + 该月文章数量，点击展开/收起
  - 文章列表：在月份下方缩进显示，每篇文章一行
- **文章页导航栏位置**：
  - 桌面端：固定在内容区域右侧，距离顶部一定偏移
  - 移动端：可考虑收起/展开式设计，或置于文章顶部

### 3.3 交互细节
- **归档页面**：
  - 月份展开/收起有平滑动画
  - 文章数量变化时更新显示
- **个人面板**：
  - 工作经历 logo 在悬停时有轻微放大效果
  - 坐标信息可考虑添加点击复制功能（后续版本）
- **页内导航**：
  - 滚动时自动更新当前章节高亮
  - 点击导航项时平滑滚动到对应位置
- **背景特效**：
  - 线条灯光效果在页面滚动时有微妙变化
  - 不影响页面性能，GPU 加速优先

## 4. 技术方案

### 4.1 归档实现方案
1. **数据准备**：在 `posts/index.json` 中增加年份和月份字段，或在客户端动态计算
2. **页面生成**：
   - 创建 `archive.html` 或使用 `index.html?view=archive`
   - JavaScript 读取文章数据，按年份/月份分组
   - 动态生成归档 HTML 结构
3. **状态管理**：使用 URL hash 或 query parameter 记录展开的月份

### 4.2 个人面板实现
1. **数据结构**：在 `js/app.js` 或单独配置文件中定义个人数据
   ```javascript
   const profile = {
     avatar: 'assets/avatar.jpg',
     nickname: 'k1he',
     profession: '全栈开发者',
     companies: [
       { name: 'Meituan', logo: 'assets/meituan.svg', active: false },
       { name: 'Baidu', logo: 'assets/baidu.svg', active: false },
       { name: 'ByteDance', logo: 'assets/bytedance.svg', active: true },
       { name: 'Tencent', logo: 'assets/tencent.svg', active: true }
     ],
     location: 'Guangdong Shenzhen'
   };
   ```
2. **渲染逻辑**：在侧边栏初始化时插入个人面板 HTML
3. **样式控制**：使用 CSS 滤镜控制 logo 灰度状态

### 4.3 页内导航实现
1. **标题提取**：文章渲染后，遍历 DOM 提取 `h2, h3` 元素
2. **导航生成**：创建导航菜单，绑定点击事件
3. **滚动监听**：使用 Intersection Observer 或 scroll 事件监听当前章节
4. **平滑滚动**：使用 `element.scrollIntoView({ behavior: 'smooth' })`

### 4.4 背景特效实现
1. **CSS 方案**：使用 `::before`/`::after` 伪元素配合渐变背景
2. **Canvas 方案**：轻量级 Canvas 绘制线条动画（性能允许情况下）
3. **性能考虑**：确保特效不影响文章阅读和页面滚动性能

## 5. 项目结构更新

```
k1he.github.io/（GitHub 仓库根目录）
├── index.html              # 首页（文章列表）
├── post.html               # 文章详情页
├── archive.html            # 归档页面（可选，或使用 index.html 参数控制）
├── css/
│   ├── style.css          # 主样式（更新个人面板样式）
│   ├── prism-theme.css    # 代码高亮主题
│   └── effects.css        # 背景特效样式（可选）
├── js/
│   ├── app.js             # 主应用逻辑（增强归档和个人面板）
│   ├── archive.js         # 归档页面逻辑（可选）
│   ├── navigation.js      # 页内导航逻辑
│   ├── effects.js         # 背景特效逻辑（可选）
│   └── 第三方库...        # marked, prism, katex, mermaid 等
├── assets/
│   ├── logo.svg
│   ├── avatar.jpg         # 个人头像
│   ├── meituan.svg        # 公司 logo
│   ├── baidu.svg
│   ├── bytedance.svg
│   └── tencent.svg
├── posts/                  # 文章目录
│   ├── index.json         # 文章索引（增加时间字段）
│   └── *.md
└── docs/
    └── requirements/
        ├── MVP/           # 第一版文档
        └── MVP_2/         # 第二版文档（本文档）
```

## 6. 实施计划

### Phase 1：归档功能（Week 1）
1. 设计归档数据结构和分组算法
2. 实现归档页面 HTML/CSS 骨架
3. 开发归档数据加载和渲染逻辑
4. 集成到导航菜单

### Phase 2：个人面板优化（Week 2）
1. 调整左侧栏布局，实现 1/3 个人面板分区
2. 创建个人数据配置文件
3. 实现头像、昵称、职业、坐标的渲染
4. 实现工作经历 logo 的彩色/灰度显示
5. 添加悬停交互效果

### Phase 3：文章页增强（Week 3）
1. 实现页内标题提取和导航栏生成
2. 添加平滑滚动和高亮逻辑
3. 设计并实现背景线条灯光效果
4. 优化移动端体验

### Phase 4：测试与优化（Week 4）
1. 跨浏览器测试新功能
2. 性能测试，确保特效不影响体验
3. 响应式设计验证
4. 文档更新和部署

## 7. 后续扩展可能性

### 7.1 功能扩展
- **搜索功能**：集成 lunr.js 实现客户端全文搜索
- **标签筛选**：在归档基础上增加标签筛选维度
- **阅读统计**：记录每篇文章阅读进度
- **主题切换**：深色/浅色模式切换

### 7.2 设计优化
- **动画细化**：增加更多微交互动画
- **打印优化**：优化归档页面和文章打印样式
- **可访问性增强**：进一步改善屏幕阅读器支持

## 8. 成功指标
- ✅ 归档功能完整，可按年月浏览文章
- ✅ 个人面板信息丰富，视觉层次清晰
- ✅ 文章页内导航实用，提升长文阅读体验
- ✅ 背景特效增强科技感，不影响性能
- ✅ 所有新功能在移动端表现良好
- ✅ 代码结构清晰，易于后续维护扩展

---

**最后更新**：2025-12-27  
**目标用户**：k1he（GitHub: @k1he）  
**交付物**：在 MVP 基础上增强的静态博客，包含归档、个人面板优化和文章页增强功能